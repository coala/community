{% extends 'base.html' %}
{% load staticfiles %}
{% block title %}
  Community | Contributors
{% endblock %}

{% block add_css_files %}
  <link rel="stylesheet" href="{% static 'css/contributors.css' %}">
{% endblock %}

{% block add_js_files %}
  <script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.js"></script>
  <script src="{% static 'js/contributors.js' %}"></script>
  <script src="{% static 'js/contributor_statistics.js' %}"></script>
{% endblock %}

{% block main-content %}

  <div class="web-page-details apply-flex center-content">
    <h3 style="padding-right: 15px">~</h3>
    <h3 class="page-name">
      Our Precious Contributors
    </h3>
    <h3 style="padding-left: 15px">~</h3>
  </div>

  <div class="apply-flex center-content">
    <p class="container web-page-description">
      Contributor's who've been putting their hard-work to make {{ org.name }} best of its
      own. Thanks to all contributors to make {{ org.name }} what is it today.
    </p>
  </div>

  <div class="contributors-section apply-flex center-content">
    <div class="form-fields">
      <form>
        <div class="input-field apply-flex center-content search-field">
          <i class="fa fa-search social-icons"></i>
          <input id="search" type="search" autocomplete="off" placeholder="Search by username or name" required>
          <i class="fa fa-close social-icons"></i>
        </div>
      </form>
    <div class="apply-flex center-content">
    </div>
      <div class="search-results">
        <table>
          <thead>
            <tr>
              <th>Search Results</th>
            </tr>
          </thead>
          <tbody class="search-results-tbody large-font">
            <tr>
              <td>
                No results found!
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="contributors-cards">
  {% for contributor in contributors %}
  <div class="contributor-card" login="{{ contributor.login }}" name="{{ contributor.name }}">
    <div class="contributor-image">
      {% if contributor.statistics %}
      <div class="user-statistics-option" username="{{ contributor.login }}">
        <strong>s</strong>
      </div>
      {% endif %}{# if contributor.statistics #}
      <img src="//github.com/{{ contributor.login }}.png/?size=210">
    </div>
    <div class="contributor-details">
      <a class="bold-text large-font" href="//github.com/{{ contributor.login }}" target="_blank">
        {% if contributor.name %}
        {{ contributor.name }}
        {% else %}
        {{ contributor.login }}
        {% endif %}{# if contributor.name #}
      </a>
      <div class="apply-flex evenly-spread-content contributions gray-font-color">
        <div class="commits">
          <p>{{ contributor.num_commits }}</p>
          <p class="bold-text">Commits</p>
        </div>
        <div class="reviews">
          <p>{{ contributor.reviews }}</p>
          <p class="bold-text">Reviews</p>
        </div>
        <div class="issues-opened">
          <p>{{ contributor.issues_opened }}</p>
          <p class="bold-text">Issues</p>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}{# for contributor in contributors #}
  </div>

  <div class="user-statistics">
    <div class="close-statistics apply-flex close-form">
      <i class="fa fa-times" aria-hidden="true"></i>
    </div>
    <div class="input-field row">
      <div class="col s6 m3 l2">
        <select id="hoster-selector">
          <option value="github">GitHub</option>
          <option value="gitlab">GitLab</option>
        </select>
      </div>
      <div class="col s6 m3 l2">
        <select id="stats-divider">
          <option value="yearly">Yearly</option>
          <option value="monthly">Last 12 Months</option>
          <option value="weekly">Last 12 weeks</option>
        </select>
      </div>
    </div>
    <div class="statistics-graphs apply-flex">
      <div class="stats-canvas bar-issues-canvas">
        <canvas id="issues-canvas"></canvas>
      </div>
      <div class="stats-canvas bar-commits-canvas">
        <canvas id="commits-canvas"></canvas>
      </div>
      <div class="stats-canvas bar-reviews-canvas">
        <canvas id="reviews-canvas"></canvas>
      </div>
      <div class="stats-canvas line-merge-requests-canvas">
        <canvas id="merge-requests-canvas"></canvas>
      </div>
    </div>
    <div class="repository-canvas">
      <canvas id="repository-stats-canvas"></canvas>
    </div>
    <div class="some-important-information">
      <div class="worked-on-issues">
        <h6><strong>Types of issues user worked on-</strong></h6>
        <div class="issues-labels">
          <h6>GitHub:</h6>
          <div class="github-issue-labels apply-flex center-content"></div>
          <h6>GitLab:</h6>
          <div class="gitlab-issue-labels apply-flex center-content"></div>
        </div>
      </div>
      <div class="working-on-issues-count">
        <h6><strong>Working on issues count-</strong></h6>
        <div class="issues-count">
          <ol class="count-list"></ol>
        </div>
      </div>
      <div class="data-updated-at">
        <h6><strong>User lasted updated on-</strong></h6>
        <div class="user-updated-datetime apply-flex"></div>
      </div>
    </div>
  </div>

{% endblock %}
